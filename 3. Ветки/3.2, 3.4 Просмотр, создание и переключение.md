# 3.2, 3.4 Git - Ветки - Просмотр, создание и переключение

> [!NOTE]
> <details> <summary><b>Ветки</b> представляют из себя <i>специальные ссылки на коммиты</i>. </summary>
> 
> + **Полный идентификатор коммита**, на который ссылается ветка  
>   хранится (_какое-то время_) в `<PROJECT>/.git/refs/heads/<BRANCH>` ;
> + Коммит, на который ссылкается ветка, называется её **вершиной** ;
> + Сами коммиты имеют информацию о родительском коммите ;  
> </details>
>   
> Следовательно, ветка по-умолчанию (`master`) создается во время **первого коммита** ;
> 
> Ссылка на текущую ветку (в случае _detached HEAD_ на коммит) хранится в `<PROJECT>/.git/HEAD>` ;
> 

## Просмотр веток

```powershell
~~~> git branch
        [--verbose | -v] ----------------- # Показывает заголовок и хэш(7) вершины ветки ;
```

## Создание веток 

```powershell  
~~~> git branch [название_новой_ветки]  
```

``` powershell
~~~~> git checkout -b [название_новой_ветки] 
```

## Переключение веток

```powershell
~~~> git checkout
        [-b] ----------------------------- # Предварительно создаёт новую ветку 
        [название_ветки]  
```
+ Сбросить незакомиченные изменения можно следующими способами:
  + `git checkout -f HEAD` ;
  + `git checkout -f ` - _HEAD_ задан неявно ;
  + Если не использовать флаг `-f` то ничего по факту не поменяется и изменения не сбросятся   
(причина ниже - это перемещение с ветки на эту же ветку).
+ Переключение веток **возможно** при **незакоммиченных изменениях**** в том случае, если файл без этих изменений совпадает в обоих ветках (**изменения не пропадут**) ;
  + <details> <summary>Это может быть полезно, если накопившиеся изменения хочется закомитить в новую ветку</summary>

          1. Вносим какие-то изменения ;
          2. Приходит осознание, что изменений хватает на полноценный коммит, но вся функциональность не готова - т.е. нужна новая ветка под неё ;
          3. Создаем новую ветку и переключаемся на неё (это получается, т.к. HEAD-коммит в обоих ветках один и тот же) ;
          4. Изменения не пропали при переключении ;
          5. Коммитим в новую ветку - ура! ;
  </details> 

